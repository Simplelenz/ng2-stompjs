!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@stomp/rx-stomp"),require("rxjs"),require("rxjs/operators"),require("@angular/core/testing")):"function"==typeof define&&define.amd?define("@stomp/ng2-stompjs",["exports","@angular/core","@stomp/rx-stomp","rxjs","rxjs/operators","@angular/core/testing"],e):e((t.stomp=t.stomp||{},t.stomp["ng2-stompjs"]={}),t.ng.core,t.RxStomp,t.rxjs,t.rxjs.operators,t.ng.core.testing)}(this,function(t,n,e,i,c,r){"use strict";var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var p={CLOSED:0,TRYING:1,CONNECTED:2,DISCONNECTING:3};p[p.CLOSED]="CLOSED",p[p.TRYING]="TRYING",p[p.CONNECTED]="CONNECTED",p[p.DISCONNECTING]="DISCONNECTING";var u=function(o){function r(){var e=o.call(this)||this;return e.state=new i.BehaviorSubject(p.CLOSED),e.connectionState$.subscribe(function(t){e.state.next(r._mapStompState(t))}),e}return a(r,o),r._mapStompState=function(t){return t===e.RxStompState.CONNECTING?p.TRYING:t===e.RxStompState.OPEN?p.CONNECTED:t===e.RxStompState.CLOSING?p.DISCONNECTING:t===e.RxStompState.CLOSED?p.CLOSED:void 0},Object.defineProperty(r.prototype,"connectObservable",{get:function(){return this.connected$.pipe(c.map(function(t){return r._mapStompState(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"serverHeadersObservable",{get:function(){return this.serverHeaders$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"defaultMessagesObservable",{get:function(){return this.unhandledMessage$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"receiptsObservable",{get:function(){return this.unhandledReceipts$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorSubject",{get:function(){return this.stompErrors$},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"config",{set:function(t){var e={};"string"==typeof t.url?e.brokerURL=t.url:e.webSocketFactory=t.url,e.heartbeatIncoming=t.heartbeat_in,e.heartbeatOutgoing=t.heartbeat_out,e.reconnectDelay=t.reconnect_delay,t.debug&&(e.debug=function(t){console.log(new Date,t)}),e.connectHeaders=t.headers,this.configure(e)},enumerable:!0,configurable:!0}),r.prototype.initAndConnect=function(){this.deactivate(),this.activate()},r.prototype.disconnect=function(){this.deactivate()},r.prototype.publish=function(t,e,r){if(void 0===r&&(r={}),"string"==typeof t)o.prototype.publish.call(this,{destination:t,body:e,headers:r});else{var n=t;o.prototype.publish.call(this,n)}},r.prototype.subscribe=function(t,e){return void 0===e&&(e={}),this.watch(t,e)},r.prototype.waitForReceipt=function(t,e){o.prototype.watchForReceipt.call(this,t,e)},Object.defineProperty(r.prototype,"client",{get:function(){return this._stompClient},enumerable:!0,configurable:!0}),r.decorators=[{type:n.Injectable}],r.ctorParameters=function(){return[]},r}(e.RxStomp),s=function(){function t(){}return t.decorators=[{type:n.Injectable}],t}(),f=function(r){function t(t){var e=r.call(this)||this;return e.config=t,e.initAndConnect(),e}return a(t,r),t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:s}]},t}(u),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.decorators=[{type:n.Injectable}],e}(e.RxStomp),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.decorators=[{type:n.Injectable}],e}(e.RxStompRPCConfig),y=function(r){function t(t,e){return r.call(this,t,e)||this}return a(t,r),t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:l},{type:b,decorators:[{type:n.Optional}]}]},t}(e.RxStompRPC),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.decorators=[{type:n.Injectable}],e}(e.RxStompConfig);t.StompRService=u,t.StompService=f,t.StompState=p,t.StompConfig=s,t.RxStompRPCService=y,t.RxStompService=l,t.InjectableRxStompConfig=m,t.InjectableRxStompRpcConfig=b,t.rxStompServiceFactory=function S(t){var e=new l;return e.configure(r.TestBed.get(m)),e.activate(),e},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=stomp-ng2-stompjs.umd.min.js.map